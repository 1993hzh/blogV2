@(passage: Option[Passage] = None,
        tags: List[Tag] = Nil,
        allTag: List[Tag] = Nil,
        keywords: List[Keyword] = Nil,
        error: Option[String] = None)(implicit session: play.api.mvc.Session)


<!DOCTYPE html>
<html>
    <head lang="en">
        <meta charset="UTF-8">
        <title>
            @passage match {
                case Some(p) => {Edit [@p.title]}
                case None => {New Passage}
            }
        </title>
    </head>
    <body>
        @nav()
        <div class="container">
            <div class="col-lg-10 col-md-10 col-md-offset-1">
                <div id="error"></div>
                <form id="passageForm" action="/manage/passage/doCreateOrUpdate" method="post">
                    @passage match {
                        case Some(p) => {
                            <input type="text" class="hidden" id="id" name="id" value="@p.id"/>
                            <input type="text" class="form-control" placeholder="Title" id="title" name="title" value="@p.title"/>
                            <hr>
                            <div id="keywords" style="display : inline-block ;">
                            @for(kw <- keywords) {
                                <span class="label label-primary" id="keyword-@kw.id">
                                    @kw.name
                                <a href="javascript:closeKeyword('@kw.id')">
                                    <i class="fa fa-times"></i>
                                </a>
                                </span> &nbsp;
                            }
                            </div>
                            <input type="text" placeholder="Keyword" id="keywordAdd">
                            <a href="javascript:addKeyword()">
                                <i class="fa fa-plus-circle"></i>
                            </a>
                            <hr>
                            <div class="my-font-color">
                            @for(t <- allTag) {
                                <input type="checkbox" name="tags" @if(tags.contains(t)) {
                                    checked="checked"}> @t.name
                                }
                            </div>
                            <hr>
                            <textarea id="content" name="content" class="form-control" rows="3">@p.content</textarea>
                        }
                        case None => {
                            <input type="text" class="hidden" id="id" name="id" value="">
                            <input type="text" class="form-control" placeholder="Title" id="title" name="title">
                            <hr>
                            <hr>
                            <textarea id="content" name="content" class="form-control" rows="3"></textarea>
                        }
                    }
                    <hr>
                    <button type="submit" class="btn btn-default btn-right">Submit</button>
                </form>
            </div>
        </div>
        @footer()
    </body>
</html>